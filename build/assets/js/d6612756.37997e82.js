"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5890],{5559:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>l,frontMatter:()=>i,metadata:()=>c,toc:()=>u});var o=t(4848),r=t(8453);const i={id:"jenkins",title:"Jenkins"},s=void 0,c={id:"continuous-integration/jenkins",title:"Jenkins",description:"Jenkins Ci integration is fairly straightforward, and we recommend using the Docker Xvfb runner. That way we avoid setting up Xvfb for headless runs, which can be quite complex.",source:"@site/docs/continuous-integration/jenkins.mdx",sourceDirName:"continuous-integration",slug:"/continuous-integration/jenkins",permalink:"/docs/continuous-integration/jenkins",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/continuous-integration/jenkins.mdx",tags:[],version:"current",frontMatter:{id:"jenkins",title:"Jenkins"},sidebar:"docs",previous:{title:"Introduction",permalink:"/docs/continuous-integration/introduction"},next:{title:"GitHub actions",permalink:"/docs/continuous-integration/github-actions"}},a={},u=[];function d(e){const n={a:"a",code:"code",li:"li",ol:"ol",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"Jenkins Ci integration is fairly straightforward, and we recommend using the Docker Xvfb runner. That way we avoid setting up Xvfb for headless runs, which can be quite complex."}),"\n",(0,o.jsx)(n.p,{children:"Start by copying the boilerplate script and create a free-style job according to the instructions given"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:'Click "New Item" in the Jenkins main view'}),"\n",(0,o.jsx)(n.li,{children:'Choose "Freestyle project"'}),"\n",(0,o.jsx)(n.li,{children:"Add build step -> Execute Shell"}),"\n",(0,o.jsx)(n.li,{children:"Copy the below code into the shell"}),"\n",(0,o.jsx)(n.li,{children:"Add a Post-build action -> Add Cucumber reports"}),"\n",(0,o.jsx)(n.li,{children:"The job is ready to run!"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Below is a sample of code generated. Note that most of these settings will vary depending on your particular project settings and selected test to run."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'BASE=http://staging-be.boozang.com\nTOKEN=my-secret-token\nENV=4\nPROJECT=5e3f275e64f84941a326d4d8\nBRANCH=jira61\nSELF=0\nTEST=m72/t10\nGROUP=\nSCOPE=\nPARAMETER=\nWORKERS=1\n\necho Running $workers processes for test: $test\n\necho Setting up slaves\ncounter=1\nwhile [ $counter -lt ${WORKERS} ]\ndo\n  ((counter++))\n  WORKER_URL="${BASE}/extension?parameter=${PARAMETER}&token=${TOKEN}${PROJECT}group=${GROUP}&scope=${SCOPE}&env=${ENV}&key=${counter}&self=${SELF}#${PROJECT}/${BRANCH}"\n  nohup docker run --rm -v "$(pwd):/var/boozang/" --name=bzworker${counter} styrman/boozang-runner "${WORKER_URL}" > out_${counter}.log &\ndone\n\necho All slaves done. Starting master job. \n\nMASTER_URL="${BASE}/extension?parameter=${PARAMETER}&token=${TOKEN}${PROJECT}&group=${GROUP}&scope=${SCOPE}&env=${ENV}&key=1&self=${SELF}#${PROJECT}/${BRANCH}/${TEST}/run"\ndocker run --rm -v "$(pwd):/var/boozang/" --name=bzworker1 styrman/boozang-runner "${MASTER_URL}"\n'})}),"\n",(0,o.jsx)(n.p,{children:'It\'s often a good idea to add parameters to the job, for instance "module_id/test_id" and "number_of_workers".'}),"\n",(0,o.jsxs)(n.p,{children:["In order to see an example setup using an upstream pipeline, check out this post on our user forum: ",(0,o.jsx)(n.a,{href:"https://boozang.com/forum/topic/jenkins-config-for-distributed-runs/",children:"https://boozang.com/forum/topic/jenkins-config-for-distributed-runs/"})]})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>c});var o=t(6540);const r={},i=o.createContext(r);function s(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);