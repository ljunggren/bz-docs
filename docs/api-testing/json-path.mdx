---
id: json-path
title: JSON path
---

import YouTubeEmbed from "@site/src/components/YouTubeEmbed";

## Utility functions

In doing API testing, we sometimes needs to do validations of large payloads. To support a flexible wayof doing these 
validation we have developed a new JSON-based expression language, similar to XPath. We call this JSON-path.

We introduce the following new *utility-functions*:

```
- $util.extractData(data, JSONPathExpression)
```

## Usage examples

This functionality is best descibed with an example

### Sample data for examples
```
{
  name:"name-1",
  value:"value-1",
  data:{
    name:"name-2",
    value:"value-2"
  },
  list:[
    {
      name:"name-3",
      value:"value-3"
    },
    {
      name:"name-4",
      value:"value-4",
      age:33
    },
    {
      obj:{
        name:"name-5",
        value:"value-5",
        age:33
      }
    }
  ]
}
```
### Extract specific node
```
"data.name" ==>
{
  data:{
    name:"name-2"
  }
}
```
### Extract specific node and rename it
```
"data(abc).name" ==>
{
  abc:{
    name:"name-2"
  }
}
```
### Extract specific node (array example)
```
"list.name" ==>
{
  list:[
    {
      name:"name-3"
    },
    {
      name:"name-4"
    }
  ]
}  
```
### Extract specific node (array example), remove key
```
"list().name" ==>
[
  {
    name:"name-3"
  },
  {
    name:"name-4"
  }
] 
```
### Extracting a node
```
"name" ==>
{
  name:"name-1"
}
```
### Extract a node and rename it
```
"name(Name)" ==>
{
  Name:"name-1"
}
```
### Extract a node and remove key
```
"name()" ==>
"name-1"
```
### Extract multiple nodes
```
["name","value"] ==>
{
  name:"name-1",
  value:"value-1"
}
```
### Extract matching nodes anywhere in the tree
```
"*.name" ==>
{
  name:"name-1",
  data:{
    name:"name-2"
  },
  list:[
    {
      name:"name-3"
    },
    {
      name:"name-4"
    },
    {
      obj:{
        name:"name-5"
      }
    }
  ]
}
```
### Extract several matching nodes anywhere in the tree
```
["*.name","*.value"] ==>
{
  "name": "name-1",
  "data": {
    "name": "name-2",
    "value": "value-2"
  },
  "list": [
    {
      "name": "name-3",
      "value": "value-3"
    },
    {
      "name": "name-4",
      "value": "value-4"
    },
    {
      "obj": {
        "name": "name-5",
        "value": "value-5"
      }
    }
  ],
  "value": "value-1"
}
```
### Extract multiple matching nodes anywhere in the tree
```
{"*":["name","value"]} ==>
{
  name:"name-1",
  value:"value-1",
  data:{
    name:"name-2",
    value:"value-2"
  },
  list:[
    {
      name:"name-3",
      value:"value-3"
    },
    {
      name:"name-4",
      value:"value-4",
      age:33
    },
    {
      obj:{
        name:"name-5",
        value:"value-5",
      }
    }
  ]
}
```
### Extract matching nodes and remove path
```
"*().name" ==>
{
  name:[
    "name-1",
    "name-2",
    "name-3",
    "name-4",
    "name-5"
  ]
}
```
### Extract matching nodes and remove path, renaming the key
```
"*(abc).name" ==>
{
  "abc": {
    "name": "name-1",
    "data": {
      "name": "name-2"
    },
    "list": [
      {
        "name": "name-3"
      },
      {
        "name": "name-4"
      },
      {
        "obj": {
          "name": "name-5"
        }
      }
    ]
  }
}
```
### Extract matching nodes, skip root level
```
"+.name" ==>
{
  "data": {
    "name":"name-2"
  },
  "list": [
    {
      "name":"name-3"
    },
    {
      "name":"name-4"
    }
  ]
}
```
### Extract matching nodes, skip root level and set new root key
```
"+(abc).*.name" ==>
{
  abc:{
    data:{
      name:"name-2"
    },
    list:[
      {
        name:"name-3"
      },
      {
        name:"name-4"
      },
      {
        obj:{
          name:"name-5"
        }
      }
    ]
  }  
}
```
### Extract all matching nodes, remove keys
```
"list().*.name" ==>
[
  {
    name:"name-3"
  },
  {
    name:"name-4"
  },
  {
    obj:{
      name:"name-5"
    }
  }
] 
```
### Extract matching nodes, flatten tree
```
"list().*().name" ==>
[
  {
    name:"name-3"
  },
  {
    name:"name-4"
  },
  {
    name:"name-5"
  }
]
```
### Extract mathcing nodes, return in array
```
"list().*().name()" ==>
["name-3", "name-4", "name-5"] 
